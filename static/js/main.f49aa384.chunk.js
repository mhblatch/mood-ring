(this["webpackJsonpmood-ring-client"]=this["webpackJsonpmood-ring-client"]||[]).push([[0],{13:function(e,t,o){},14:function(e,t,o){},16:function(e,t,o){"use strict";o.r(t);var c=o(1),n=o.n(c),r=o(3),l=o.n(r),s=(o(13),o(4)),a=o(5),i=o(8),d=o(7),g=(o(14),o(6)),h=o.n(g),j=o(0),u=new h.a,b=function(e){Object(i.a)(o,e);var t=Object(d.a)(o);function o(){var e;Object(s.a)(this,o);var c=(e=t.call(this)).getHashParams().access_token;return c&&u.setAccessToken(c),e.state={loggedIn:!!c,color1:"",color2:"",color3:"",color4:"",color5:"",gradient:"",nowPlaying:{name:"",albumArt:""}},e}return Object(a.a)(o,[{key:"getHashParams",value:function(){var e,t={},o=/([^&;=]+)=?([^&;]*)/g,c=window.location.hash.substring(1);for(e=o.exec(c);e;)t[e[1]]=decodeURIComponent(e[2]),e=o.exec(c);return t}},{key:"getNowPlaying",value:function(){var e=this;u.getMyCurrentPlayingTrack().then((function(t){console.log(t);var o=t.item;console.log(o);var c=o.uri;console.log(c),c=c.substring(14),console.log(c),u.getAudioFeaturesForTrack(c).then((function(o){console.log(o);var c=o.acousticness,n=o.danceability,r=o.liveness,l=o.valence,s=o.energy,a=16777215;c=c<.1?100*c:c;var i,d="#"+Math.floor(c*a).toString(16).toUpperCase(),g="#"+Math.floor(r*a).toString(16).toUpperCase(),h="#"+Math.floor(n*a).toString(16).toUpperCase(),j="#"+Math.floor(l*a).toString(16).toUpperCase(),u="#"+Math.floor(s*a).toString(16).toUpperCase();e.setState({nowPlaying:{name:"Now playing: "+t.item.name,albumArt:t.item.album.images[0].url},color1:d,color2:g,color3:h,color4:j,color5:u});var b=n;i=b<.1?"radial-gradient(farthest-side at 5px 5px,"+e.state.color1+","+e.state.color5+","+e.state.color3+")":b<.3?"radial-gradient("+e.state.color2+","+e.state.color4+","+e.state.color3+")":b<.5?"linear-gradient(45deg,"+e.state.color2+","+e.state.color4+","+e.state.color3+")":b<.62?"linear-gradient(60deg,"+e.state.color1+","+e.state.color4+","+e.state.color3+")":b<.75?"linear-gradient(45deg,"+e.state.color1+","+e.state.color4+","+e.state.color3+")":"radial-gradient(farthest-side at 60px 40px,"+e.state.color3+","+e.state.color4+","+e.state.color3+")",console.log(i),console.log(d),document.getElementById("gradient").style.background=i,document.getElementById("color1").style.color=d,document.getElementById("circle1").style.backgroundColor=d,document.getElementById("color2").style.color=g,document.getElementById("circle2").style.backgroundColor=g,document.getElementById("color3").style.color=h,document.getElementById("circle3").style.backgroundColor=h,document.getElementById("color4").style.color=j,document.getElementById("circle4").style.backgroundColor=j,document.getElementById("color5").style.color=u,document.getElementById("circle5").style.backgroundColor=u}))}))}},{key:"getTopTracks",value:function(){u.getMyTopTracks().then((function(e){console.log(e.items)}),(function(e){alert("gathering tracks failed")}))}},{key:"searchTrack",value:function(e){u.searchTracks(e).then((function(e){console.log("hello")}),(function(e){alert("search failed")}))}},{key:"render",value:function(){var e=this;return this.state.loggedIn?Object(j.jsxs)("div",{className:"App",children:[Object(j.jsx)("h1",{children:"welcome to mood ring"}),Object(j.jsx)("div",{className:"center",children:Object(j.jsx)("p",{children:" mood ring creates a color profile of the song that you are currently listening to on spotify. if you want to use mood ring, then start playing a song in the web player or on the app on spotify"})}),this.state.loggedIn&&Object(j.jsx)("button",{id:"now-btn",onClick:function(){return e.getNowPlaying()},children:"check your mood"}),Object(j.jsx)("div",{children:Object(j.jsxs)("p",{children:[" ",this.state.nowPlaying.name," "]})}),Object(j.jsx)("div",{children:Object(j.jsx)("img",{id:"albumsrc",src:this.state.nowPlaying.albumArt,style:{height:150}})}),Object(j.jsx)("div",{className:"color",id:"gradient"}),Object(j.jsx)("div",{className:"colorPalette",children:Object(j.jsxs)("table",{children:[Object(j.jsxs)("td",{children:[Object(j.jsx)("span",{class:"dot",id:"circle1"}),Object(j.jsxs)("h2",{children:[" ",Object(j.jsxs)("span",{id:"color1",children:[" ",this.state.color1," "]})," "]})]}),Object(j.jsxs)("td",{children:[Object(j.jsx)("span",{class:"dot",id:"circle2"}),Object(j.jsxs)("h2",{children:[" ",Object(j.jsxs)("span",{id:"color2",children:[" ",this.state.color2," "]})," "]})]}),Object(j.jsxs)("td",{children:[Object(j.jsx)("span",{class:"dot",id:"circle3"}),Object(j.jsxs)("h2",{children:[" ",Object(j.jsxs)("span",{id:"color3",children:[" ",this.state.color3," "]})," "]})]}),Object(j.jsxs)("td",{children:[Object(j.jsx)("span",{class:"dot",id:"circle4"}),Object(j.jsxs)("h2",{children:[" ",Object(j.jsxs)("span",{id:"color4",children:[" ",this.state.color4," "]})," "]})]}),Object(j.jsxs)("td",{children:[Object(j.jsx)("span",{class:"dot",id:"circle5"}),Object(j.jsxs)("h2",{children:[" ",Object(j.jsxs)("span",{id:"color5",children:[" ",this.state.color5," "]})," "]})]})]})})]}):Object(j.jsxs)("div",{className:"App",children:[Object(j.jsx)("h1",{children:"welcome to mood ring"}),Object(j.jsx)("div",{className:"center",children:Object(j.jsx)("p",{children:" mood ring creates a color profile of the song that you are currently listening to on spotify. if you want to use mood ring, then start playing a song in the web player on spotify"})}),Object(j.jsx)("div",{class:"log-in-btn",children:Object(j.jsx)("a",{id:"elementId",href:"http://localhost:8888",children:"log in"})})]})}}]),o}(c.Component),m=function(e){e&&e instanceof Function&&o.e(3).then(o.bind(null,17)).then((function(t){var o=t.getCLS,c=t.getFID,n=t.getFCP,r=t.getLCP,l=t.getTTFB;o(e),c(e),n(e),r(e),l(e)}))};l.a.render(Object(j.jsx)(n.a.StrictMode,{children:Object(j.jsx)(b,{})}),document.getElementById("root")),m()}},[[16,1,2]]]);
//# sourceMappingURL=main.f49aa384.chunk.js.map